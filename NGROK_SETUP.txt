# ngrok Deployment Guide
# =======================

## What is ngrok?
ngrok exposes your local server to the internet with a public URL.
This allows others to access your API without deploying to a cloud server.


## Step 1: Install ngrok
--------------------------
Download from: https://ngrok.com/download

Or use package managers:
- Windows (Chocolatey): choco install ngrok
- macOS (Homebrew): brew install ngrok


## Step 2: Create Account & Get Auth Token
-------------------------------------------
1. Sign up at: https://ngrok.com (free account)
2. Go to: https://dashboard.ngrok.com/get-started/your-authtoken
3. Copy your authtoken


## Step 3: Configure ngrok
---------------------------
Run this command (replace with your token):

    ngrok config add-authtoken YOUR_AUTH_TOKEN

Example:
    ngrok config add-authtoken 2abc123def456ghi789jkl


## Step 4: Start the API Server
--------------------------------
First, start the Python server:

    python main.py

Keep this terminal running.


## Step 5: Start ngrok Tunnel
------------------------------
Open a NEW terminal and run:

    ngrok http 8000

You'll see output like:
    Forwarding    https://abc123.ngrok-free.dev -> http://localhost:8000


## Step 6: Use Your Public URL
-------------------------------
Your public endpoint is now:
    https://abc123.ngrok-free.dev/api/honeypot

Share this URL with others to access your API.


## Important Notes
-------------------
- Keep BOTH terminals running (Python server + ngrok)
- The ngrok URL changes each time you restart (unless you have a paid plan)
- Free tier has request limits
- Add your API key in the X-API-Key header when making requests


## Example Request
-------------------
curl -X POST https://YOUR-NGROK-URL.ngrok-free.dev/api/honeypot \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your-api-key" \
  -d '{"sessionId": "test", "message": {"sender": "scammer", "text": "Hello", "timestamp": "2026-02-07T12:00:00Z"}}'


## Troubleshooting
-------------------
1. "ERR_NGROK_108" - Run the authtoken command from Step 3
2. "Connection refused" - Make sure Python server is running first (Step 4)
3. "Invalid Host header" - This is normal, the API still works
